cmake_minimum_required(VERSION 3.16)

cmake_minimum_required(VERSION 3.16)

file(GLOB hpp_files tests/*.hpp runner.hpp)

# if(BUILD_SOEM_LINK)
#   add_executable(example_soem soem.cpp ${hpp_files})
#   target_link_libraries(example_soem autd3)
#   if(BUILD_SHARED_LIBS)
#     if(WIN32)
#       target_link_libraries(example_soem winmm ws2_32)
#     elseif(APPLE)
#       target_link_libraries(example_soem pcap)
#     else()
#       target_link_libraries(example_soem rt)
#     endif()
#   endif()
#   if(WIN32)
#     set_target_properties(example_soem PROPERTIES FOLDER "example")
#   endif()
# endif()

if(WIN32)
  if(BUILD_LINK_TWINCAT)
    add_executable(example_twincat twincat.cpp ${hpp_files})
    target_link_libraries(example_twincat autd3)
    target_link_libraries(example_twincat link_twincat)
    set_target_properties(example_twincat PROPERTIES FOLDER "example")
  endif()
endif()

if(BUILD_LINK_REMOTE_TWINCAT)
  add_executable(example_remote_twincat remote_twincat.cpp ${hpp_files})
  target_link_libraries(example_remote_twincat autd3)
  target_link_libraries(example_remote_twincat link_remote_twincat)
  if(WIN32)
    set_target_properties(example_remote_twincat PROPERTIES FOLDER "example")
  endif()
endif()

if(BUILD_LINK_EMULATOR)
  add_executable(example_emulator emulator.cpp ${hpp_files})
  target_link_libraries(example_emulator autd3)
  target_link_libraries(example_emulator link_emulator)
  if(WIN32)
    set_target_properties(example_emulator PROPERTIES FOLDER "example")
  endif()
endif()
